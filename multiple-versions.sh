#!/usr/bin/env bash

versions=("3.7.28" "3.8.28" "3.9.26" "4.0.25" "4.1.25" "4.2.22" "4.3.18" "4.4.17" "4.5.16" "4.6.13" "4.7.12" "4.8.9" "4.9.8")

touch hashes.txt

for i in "${versions[@]}"
do
    echo "Downloading WordPress v$i..."
    wget -o /dev/null http://wordpress.org/wordpress-$i.zip
    echo "Done."
    mv wordpress-$i.zip latest.zip > /dev/null
    echo "Generating hashes-$i.php..."
    php hashes-generator.php > hashes-$i.php
    echo "Done."
    echo "Generating checksums..."
    md5sum hashes-$i.php >> hashes.txt
    sha1sum hashes-$i.php >> hashes.txt
    echo "Done."
    echo "Cleaning up."
    rm latest.zip
done

echo "All finished."